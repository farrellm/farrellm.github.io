<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>COVID-19 Tracker</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body onload="onload()">
    <nav class="navbar has-background-light" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://farrellm.github.io">
          <img src="smilie-4931132.svg" width="28" height="28" />
          &nbsp; &nbsp;
          <div class="title"> COVID-19 Tracker </div>
        </a>
      </div>
    </nav>
    <section class="section">
      <div class="container refs">
        <div class="card">
          <div class="card-content">
            <p>
              Normalized count of confirmed patients since the first
              day with 100 confirmed patients.
            </p>
            <p>
              For each region, find the first day with at least 100
              confirmed in that region.  Count days from then on
              X-axis.
            </p>
            <p>
              Patient count is scaled by the number confirmed on the
              day 0, so day 0 has exactly 100 patients.
            </p>
          </div>
        </div>
      </div>
      <br/>

      <div class="refs tabs is-toggle is-toggle-rounded">
        <ul>
          <li id="log-tab" onclick="setLog()"><a>log</a></li>
          <li id="linear-tab" onclick="setLinear()"><a>linear</a></li>
        </ul>
      </div>

      <div id="log-plots" class="container" style="display: block;">
        <iframe id="region-log" style="width:100%; height:25em" scrolling="no"
                src="./region-log.html?var=xxx"> </iframe>
        <div class="has-text-centered">
          Days since 100 confirmed cases
        </div>
        <hr/>
        <iframe id="state-log" style="width:100%; height:25em" scrolling="no"
                src="./state-log.html?var=xxx"> </iframe>
        <div class="has-text-centered">
          Days since 100 confirmed cases
        </div>
      </div>

      <div id="linear-plots" class="container hidden" style="display: block;">
        <iframe id="region-linear" style="width:100%; height:25em" scrolling="no"
                src="./region-linear.html?var=xxx"> </iframe>
        <div class="has-text-centered">
          Days since 100 confirmed cases
        </div>
        <hr/>
        <iframe id="state-linear" style="width:100%; height:25em" scrolling="no"
                src="./state-linear.html?var=xxx"> </iframe>
        <div class="has-text-centered">
          Days since 100 confirmed cases
        </div>
      </div>

      <hr/>
      <div class="container refs">
        <h1 class="subtitle"> References </h1>
        <ul>
          <li>Data:
            <a href="https://github.com/CSSEGISandData/COVID-19">
              github.com/CSSEGISandData/COVID-19
            </a>
          </li>
          <li>Icon:
            <a href="https://pixabay.com/users/iximus-2352783">
              pixabay.com/users/iximus-2352783
            </a>
          </li>
        </ul>
      </div>
    </section>
    <script>
      ["region-log", "region-linear", "state-log", "state-linear"].forEach(id => {
          var _el = document.getElementById(id);
          _el.contentWindow.location.href = _el.src;
      });

      function onload() {
          setLog();
      }

      function setLog() {
          document.getElementById("log-tab").classList.add("is-active");
          document.getElementById("linear-tab").classList.remove("is-active");

          var logp = document.getElementById("log-plots")
          logp.style.display = "block";
          logp.classList.remove("hidden");

          var linp = document.getElementById("linear-plots")
          linp.style.display = "none";
          linp.classList.add("hidden");
      }
      function setLinear() {
          document.getElementById("log-tab").classList.remove("is-active");
          document.getElementById("linear-tab").classList.add("is-active");

          var logp = document.getElementById("log-plots")
          logp.style.display = "none";
          logp.classList.add("hidden");

          var linp = document.getElementById("linear-plots")
          linp.style.display = "block";
          linp.classList.remove("hidden");
      }
    </script>
  </body>
</html>
